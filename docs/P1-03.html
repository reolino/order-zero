<!DOCTYPE html>
<html lang="ko" style="scroll-behavior: smooth;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•„ë©”ë¦¬ì¹´ë…¸ - ì¹´í˜ ì˜¤ë”ì œë¡œ</title>

    <!-- Preload Critical Images -->
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=800&h=800&fit=crop" fetchpriority="high">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Smooth Transitions */
        * {
            -webkit-tap-highlight-color: transparent;
        }

        /* Button Click Animation */
        .btn-press:active {
            transform: scale(0.95);
        }

        /* Option Button States */
        .option-btn {
            transition: all 0.2s ease;
        }
        .option-btn.active {
            transform: scale(1.02);
        }

        /* Number Rolling Animation */
        @keyframes roll {
            0% { transform: translateY(-10px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        .price-roll {
            animation: roll 0.3s ease-out;
        }

        /* Toast Animation */
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translate(-50%, 100%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }
        @keyframes slideDown {
            from {
                opacity: 1;
                transform: translate(-50%, 0);
            }
            to {
                opacity: 0;
                transform: translate(-50%, 100%);
            }
        }
        .toast-enter {
            animation: slideUp 0.3s ease-out forwards;
        }
        .toast-exit {
            animation: slideDown 0.3s ease-in forwards;
        }

        /* Shake Animation for Validation */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }
        .shake {
            animation: shake 0.5s ease-in-out;
        }

        /* Error State */
        .error-border {
            border-color: #ef4444 !important;
            background-color: #fee2e2 !important;
        }
        .error-text {
            color: #dc2626 !important;
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            backdrop-filter: blur(10px);
        }
        .lightbox.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .lightbox img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }

        /* Sticky Bottom Bar */
        .sticky-bottom {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 50;
            background: white;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
        }

        /* Desktop Layout */
        @media (min-width: 768px) {
            .desktop-layout {
                display: grid;
                grid-template-columns: 1fr 1fr;
                max-width: 1200px;
                margin: 0 auto;
                gap: 3rem;
                padding: 2rem;
            }
            .hero-image-desktop {
                position: sticky;
                top: 2rem;
                height: fit-content;
            }
            .sticky-bottom {
                position: relative;
                box-shadow: none;
            }
        }

        /* Counter Button */
        .counter-btn {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px;
            font-weight: bold;
            transition: all 0.2s;
        }
        .counter-btn:active {
            transform: scale(0.9);
        }

        /* Dropdown Arrow Animation */
        .dropdown-arrow {
            transition: transform 0.2s;
        }
        .dropdown-open .dropdown-arrow {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="bg-gray-50">

<!-- Mobile Header (Sticky) -->
<header class="md:hidden sticky top-0 z-40 bg-white border-b border-gray-200">
    <div class="flex items-center justify-between px-4 py-3">
        <button onclick="history.back()" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors">
            <span class="text-xl">â†</span>
        </button>
        <h1 class="text-lg font-bold text-gray-900">ì•„ë©”ë¦¬ì¹´ë…¸</h1>
        <button onclick="shareMenu()" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors">
            <span class="text-xl">ğŸ”—</span>
        </button>
    </div>
</header>

<!-- Desktop Layout Wrapper -->
<div class="desktop-layout">

    <!-- Left Column: Hero Image (Desktop Sticky) -->
    <div class="hero-image-desktop">
        <!-- Hero Image Section -->
        <section class="relative bg-white md:rounded-2xl overflow-hidden">
            <div class="relative aspect-square">
                <img
                        id="mainImage"
                        src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=800&h=800&fit=crop"
                        alt="ì•„ë©”ë¦¬ì¹´ë…¸"
                        class="w-full h-full object-cover"
                        fetchpriority="high"
                        loading="eager"
                />
                <button
                        onclick="openLightbox()"
                        class="absolute top-4 right-4 w-12 h-12 bg-black/50 backdrop-blur-md text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors"
                >
                    <span class="text-xl">ğŸ”</span>
                </button>

                <!-- Popular Badge (Optional) -->
                <div class="absolute top-4 left-4 bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg">
                    â­ ì¸ê¸° ë©”ë‰´
                </div>
            </div>
        </section>

        <!-- Desktop Header (Hidden on Mobile) -->
        <div class="hidden md:flex items-center justify-between mt-6">
            <button onclick="history.back()" class="flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors">
                <span class="text-xl">â†</span>
                <span class="font-medium">ë’¤ë¡œ ê°€ê¸°</span>
            </button>
            <button onclick="shareMenu()" class="flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors">
                <span class="text-xl">ğŸ”—</span>
                <span class="font-medium">ê³µìœ í•˜ê¸°</span>
            </button>
        </div>
    </div>

    <!-- Right Column: Content (Scrollable) -->
    <div class="flex flex-col">

        <!-- Menu Info Section -->
        <section class="bg-white p-6 md:rounded-t-2xl">
            <h2 class="text-2xl font-bold text-gray-900 mb-2">ì•„ë©”ë¦¬ì¹´ë…¸</h2>
            <p class="text-gray-600 text-sm mb-4 leading-relaxed">
                ì§„í•œ ì—ìŠ¤í”„ë ˆì†Œ ìƒ·ì— ëœ¨ê±°ìš´ ë¬¼ì„ ë¶€ì–´ í’ë¶€í•œ í–¥ê³¼ ê¹Šì€ ë§›ì„ ì¦ê¸¸ ìˆ˜ ìˆëŠ” í´ë˜ì‹ ì»¤í”¼ì…ë‹ˆë‹¤.
            </p>
            <div class="flex items-baseline gap-2">
                <span class="text-sm text-gray-500">ê¸°ë³¸</span>
                <span id="basePrice" class="text-3xl font-bold text-orange-600">4,500ì›</span>
            </div>
        </section>

        <!-- Options Section -->
        <section class="bg-white px-6 pb-6 space-y-6 md:rounded-b-2xl">

            <!-- Temperature Selection (Required) -->
            <div class="space-y-3" id="temperatureSection">
                <h3 class="text-sm font-semibold text-gray-900 transition-colors duration-200">ì˜¨ë„ ì„ íƒ <span class="text-orange-500">*</span></h3>
                <div class="grid grid-cols-2 gap-3">
                    <button
                            onclick="selectTemperature('hot')"
                            id="temp-hot"
                            class="option-btn btn-press active h-16 rounded-xl border-2 border-orange-500 bg-orange-50 flex items-center justify-center gap-2 font-semibold text-orange-700"
                    >
                        <span class="text-2xl">ğŸ”¥</span>
                        <span>HOT</span>
                    </button>
                    <button
                            onclick="selectTemperature('ice')"
                            id="temp-ice"
                            class="option-btn btn-press h-16 rounded-xl border-2 border-gray-200 bg-white flex items-center justify-center gap-2 font-semibold text-gray-500 hover:border-gray-300"
                    >
                        <span class="text-2xl">â„ï¸</span>
                        <span>ICE</span>
                    </button>
                </div>
            </div>

            <!-- Size Selection (Required) -->
            <div class="space-y-3" id="sizeSection">
                <h3 class="text-sm font-semibold text-gray-900 transition-colors duration-200">ì‚¬ì´ì¦ˆ ì„ íƒ <span class="text-orange-500">*</span></h3>
                <div class="grid grid-cols-2 gap-3">
                    <button
                            onclick="selectSize('regular')"
                            id="size-regular"
                            class="option-btn btn-press active h-24 rounded-xl border-2 border-orange-500 bg-orange-50 flex flex-col items-center justify-center gap-1"
                    >
                        <span class="text-3xl">ğŸ¥¤</span>
                        <span class="font-semibold text-orange-700">Regular</span>
                        <span class="text-xs text-orange-600">355ml</span>
                    </button>
                    <button
                            onclick="selectSize('large')"
                            id="size-large"
                            class="option-btn btn-press h-24 rounded-xl border-2 border-gray-200 bg-white flex flex-col items-center justify-center gap-1 hover:border-gray-300"
                    >
                        <span class="text-3xl">ğŸ¥¤</span>
                        <span class="font-semibold text-gray-700">Large</span>
                        <span class="text-xs text-orange-600">+500ì›</span>
                    </button>
                </div>
            </div>

            <div class="border-t border-gray-100 pt-6"></div>

            <!-- Extra Options (Optional) -->
            <div class="space-y-4">
                <h3 class="text-sm font-semibold text-gray-900">ì¶”ê°€ ì˜µì…˜ <span class="text-gray-400">(ì„ íƒ)</span></h3>

                <!-- Extra Shot -->
                <div class="flex items-center justify-between py-3 border-b border-gray-100">
                    <div class="flex-1">
                        <p class="font-medium text-gray-900">ìƒ· ì¶”ê°€</p>
                        <p class="text-xs text-gray-500 mt-0.5">+500ì›</p>
                    </div>
                    <div class="flex items-center gap-3">
                        <button
                                onclick="updateExtra('shot', -1)"
                                class="counter-btn bg-gray-100 text-gray-600 hover:bg-gray-200"
                        >
                            âˆ’
                        </button>
                        <span id="shot-count" class="text-lg font-bold text-gray-900 w-8 text-center">0</span>
                        <button
                                onclick="updateExtra('shot', 1)"
                                class="counter-btn bg-orange-500 text-white hover:bg-orange-600"
                        >
                            +
                        </button>
                    </div>
                </div>

                <!-- Syrup -->
                <div class="flex items-center justify-between py-3 border-b border-gray-100">
                    <div class="flex-1">
                        <p class="font-medium text-gray-900">ì‹œëŸ½ ì¶”ê°€</p>
                        <p class="text-xs text-gray-500 mt-0.5">+300ì›</p>
                    </div>
                    <div class="flex items-center gap-3">
                        <button
                                onclick="updateExtra('syrup', -1)"
                                class="counter-btn bg-gray-100 text-gray-600 hover:bg-gray-200"
                        >
                            âˆ’
                        </button>
                        <span id="syrup-count" class="text-lg font-bold text-gray-900 w-8 text-center">0</span>
                        <button
                                onclick="updateExtra('syrup', 1)"
                                class="counter-btn bg-orange-500 text-white hover:bg-orange-600"
                        >
                            +
                        </button>
                    </div>
                </div>

                <!-- Ice Amount (Dropdown) -->
                <div class="py-3">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <p class="font-medium text-gray-900">ì–¼ìŒ ì–‘</p>
                            <p class="text-xs text-gray-500 mt-0.5">ê°€ê²© ë³€ë™ ì—†ìŒ</p>
                        </div>
                        <div class="relative">
                            <button
                                    onclick="toggleDropdown()"
                                    id="iceDropdown"
                                    class="btn-press flex items-center gap-2 px-4 py-2 border-2 border-gray-200 rounded-lg hover:border-gray-300 transition-colors"
                            >
                                <span id="selectedIce" class="font-medium text-gray-700">ë³´í†µ</span>
                                <span class="dropdown-arrow text-gray-400">â–¼</span>
                            </button>
                            <div
                                    id="iceMenu"
                                    class="hidden absolute right-0 mt-2 w-32 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden z-10"
                            >
                                <button onclick="selectIce('ì ê²Œ')" class="w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors">ì ê²Œ</button>
                                <button onclick="selectIce('ë³´í†µ')" class="w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors">ë³´í†µ</button>
                                <button onclick="selectIce('ë§ì´')" class="w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors">ë§ì´</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bottom Spacer for Fixed Bar (Mobile Only) -->
        <div class="h-28 md:hidden"></div>

        <!-- Sticky Bottom Bar -->
        <div class="sticky-bottom p-4 bg-white">
            <div class="flex items-center gap-3">
                <!-- Quantity Controller (40%) -->
                <div class="flex items-center gap-2 border-2 border-gray-200 rounded-xl px-2 py-2">
                    <button
                            onclick="updateQuantity(-1)"
                            class="counter-btn bg-gray-100 text-gray-600 hover:bg-gray-200"
                    >
                        âˆ’
                    </button>
                    <span id="quantity" class="text-lg font-bold text-gray-900 w-8 text-center">1</span>
                    <button
                            onclick="updateQuantity(1)"
                            class="counter-btn bg-gray-100 text-gray-600 hover:bg-gray-200"
                    >
                        +
                    </button>
                </div>

                <!-- Add to Cart Button (60%) -->
                <button
                        onclick="addToCart()"
                        class="btn-press flex-1 h-14 bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-xl font-bold text-lg shadow-lg hover:opacity-90 transition-opacity"
                >
                    <span id="totalPrice" class="price-roll">4,500ì›</span> ë‹´ê¸°
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Lightbox (Image Zoom) -->
<div id="lightbox" class="lightbox" onclick="closeLightbox()">
    <button class="absolute top-4 right-4 w-12 h-12 bg-white/20 backdrop-blur-md text-white rounded-full flex items-center justify-center text-2xl hover:bg-white/30 transition-colors">
        âœ•
    </button>
    <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=1200&h=1200&fit=crop" alt="ì•„ë©”ë¦¬ì¹´ë…¸ í™•ëŒ€" />
</div>

<!-- Toast Container -->
<div id="toastContainer" class="fixed bottom-28 md:bottom-8 left-1/2 -translate-x-1/2 z-50 flex flex-col-reverse gap-2 pointer-events-none">
    <!-- Toasts will be dynamically inserted here -->
</div>

<script>
    // ==================== STATE MANAGEMENT ====================
    let state = {
        temperature: 'hot',
        size: 'regular',
        extraShot: 0,
        syrup: 0,
        iceAmount: 'ë³´í†µ',
        quantity: 1,
        basePrice: 4500,
        orderType: sessionStorage.getItem('orderType') || 'pickup'
    };

    const prices = {
        base: 4500,
        large: 500,
        shot: 500,
        syrup: 300
    };

    // ==================== OPTION SELECTION ====================
    function selectTemperature(temp) {
        state.temperature = temp;

        // Update UI
        document.getElementById('temp-hot').className =
            temp === 'hot'
                ? 'option-btn btn-press active h-16 rounded-xl border-2 border-orange-500 bg-orange-50 flex items-center justify-center gap-2 font-semibold text-orange-700'
                : 'option-btn btn-press h-16 rounded-xl border-2 border-gray-200 bg-white flex items-center justify-center gap-2 font-semibold text-gray-500 hover:border-gray-300';

        document.getElementById('temp-ice').className =
            temp === 'ice'
                ? 'option-btn btn-press active h-16 rounded-xl border-2 border-blue-500 bg-blue-50 flex items-center justify-center gap-2 font-semibold text-blue-700'
                : 'option-btn btn-press h-16 rounded-xl border-2 border-gray-200 bg-white flex items-center justify-center gap-2 font-semibold text-gray-500 hover:border-gray-300';
    }

    function selectSize(size) {
        state.size = size;

        // Update UI
        document.getElementById('size-regular').className =
            size === 'regular'
                ? 'option-btn btn-press active h-24 rounded-xl border-2 border-orange-500 bg-orange-50 flex flex-col items-center justify-center gap-1'
                : 'option-btn btn-press h-24 rounded-xl border-2 border-gray-200 bg-white flex flex-col items-center justify-center gap-1 hover:border-gray-300';

        document.getElementById('size-large').className =
            size === 'large'
                ? 'option-btn btn-press active h-24 rounded-xl border-2 border-orange-500 bg-orange-50 flex flex-col items-center justify-center gap-1'
                : 'option-btn btn-press h-24 rounded-xl border-2 border-gray-200 bg-white flex flex-col items-center justify-center gap-1 hover:border-gray-300';

        updateTotalPrice();
    }

    function updateExtra(type, delta) {
        if (type === 'shot') {
            state.extraShot = Math.max(0, Math.min(3, state.extraShot + delta));
            document.getElementById('shot-count').textContent = state.extraShot;
        } else if (type === 'syrup') {
            state.syrup = Math.max(0, Math.min(2, state.syrup + delta));
            document.getElementById('syrup-count').textContent = state.syrup;
        }
        updateTotalPrice();
    }

    function updateQuantity(delta) {
        state.quantity = Math.max(1, Math.min(10, state.quantity + delta));
        document.getElementById('quantity').textContent = state.quantity;
        updateTotalPrice();
    }

    // ==================== PRICE CALCULATION ====================
    function updateTotalPrice() {
        const sizePrice = state.size === 'large' ? prices.large : 0;
        const extraPrice = (state.extraShot * prices.shot) + (state.syrup * prices.syrup);
        const itemPrice = prices.base + sizePrice + extraPrice;
        const total = itemPrice * state.quantity;

        const priceElement = document.getElementById('totalPrice');
        priceElement.classList.remove('price-roll');
        void priceElement.offsetWidth; // Trigger reflow
        priceElement.classList.add('price-roll');
        priceElement.textContent = total.toLocaleString() + 'ì›';
    }

    // ==================== ICE DROPDOWN ====================
    function toggleDropdown() {
        const menu = document.getElementById('iceMenu');
        const dropdown = document.getElementById('iceDropdown');

        menu.classList.toggle('hidden');
        dropdown.classList.toggle('dropdown-open');
    }

    function selectIce(amount) {
        state.iceAmount = amount;
        document.getElementById('selectedIce').textContent = amount;
        toggleDropdown();
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
        const dropdown = document.getElementById('iceDropdown');
        const menu = document.getElementById('iceMenu');

        if (!dropdown.contains(e.target) && !menu.contains(e.target)) {
            menu.classList.add('hidden');
            dropdown.classList.remove('dropdown-open');
        }
    });

    // ==================== VALIDATION ====================
    function validateRequiredOptions() {
        let isValid = true;

        // Temperature validation (í˜„ì¬ëŠ” ê¸°ë³¸ê°’ì´ ìˆì§€ë§Œ í˜¹ì‹œ ëª¨ë¥¼ ê²½ìš° ëŒ€ë¹„)
        if (!state.temperature) {
            shakeSection('temperatureSection');
            highlightError('ì˜¨ë„ ì„ íƒ');
            isValid = false;
        }

        // Size validation (í˜„ì¬ëŠ” ê¸°ë³¸ê°’ì´ ìˆì§€ë§Œ í˜¹ì‹œ ëª¨ë¥¼ ê²½ìš° ëŒ€ë¹„)
        if (!state.size) {
            shakeSection('sizeSection');
            highlightError('ì‚¬ì´ì¦ˆ ì„ íƒ');
            isValid = false;
        }

        return isValid;
    }

    function shakeSection(sectionId) {
        const section = document.getElementById(sectionId);

        if (section) {
            section.classList.add('shake');
            setTimeout(() => {
                section.classList.remove('shake');
            }, 500);
        }
    }

    function highlightError(fieldName) {
        // í•´ë‹¹ í•„ë“œì˜ ì œëª©ì„ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ê¹œë¹¡ì´ê¸°
        const headers = document.querySelectorAll('h3.text-sm.font-semibold');

        headers.forEach(header => {
            if (header.textContent.includes(fieldName)) {
                header.classList.add('error-text');
                setTimeout(() => {
                    header.classList.remove('error-text');
                }, 2000);
            }
        });

        // í† ìŠ¤íŠ¸ ë©”ì‹œì§€ë¡œë„ ì•Œë ¤ì£¼ê¸°
        showToast('âš ï¸ ' + fieldName + 'ì„(ë¥¼) ì„ íƒí•´ì£¼ì„¸ìš”');
    }

    // ==================== ADD TO CART ====================
    function addToCart() {
        // Validation: Check required options
        if (!validateRequiredOptions()) {
            return; // ê²€ì¦ ì‹¤íŒ¨ ì‹œ í•¨ìˆ˜ ì¢…ë£Œ
        }

        const sizePrice = state.size === 'large' ? prices.large : 0;
        const extraPrice = (state.extraShot * prices.shot) + (state.syrup * prices.syrup);
        const itemPrice = prices.base + sizePrice + extraPrice;
        const total = itemPrice * state.quantity;

        // Create cart item
        const cartItem = {
            name: 'ì•„ë©”ë¦¬ì¹´ë…¸',
            temperature: state.temperature,
            size: state.size,
            extraShot: state.extraShot,
            syrup: state.syrup,
            iceAmount: state.iceAmount,
            quantity: state.quantity,
            price: total,
            orderType: state.orderType
        };

        // Store in sessionStorage (in real app, use proper state management)
        const cart = JSON.parse(sessionStorage.getItem('cart') || '[]');
        cart.push(cartItem);
        sessionStorage.setItem('cart', JSON.stringify(cart));

        // Show toast based on order type
        if (state.orderType === 'pickup') {
            showPickupToast('ì•„ë©”ë¦¬ì¹´ë…¸', state.quantity, total);
        } else {
            showDineInToast('ì•„ë©”ë¦¬ì¹´ë…¸', state.quantity, total);
        }

        // Optional: Navigate to cart after delay
        setTimeout(() => {
            // window.location.href = 'c06-cart.html';
        }, 2000);
    }

    // ==================== TOAST SYSTEM ====================
    function showPickupToast(itemName, quantity, totalPrice) {
        const toastContainer = document.getElementById('toastContainer');
        const toast = document.createElement('div');
        toast.className = 'toast-enter bg-orange-500 text-white px-5 py-3 rounded-2xl shadow-lg pointer-events-auto max-w-sm';

        toast.innerHTML = `
            <div class="flex items-center gap-2">
                <span class="text-lg">ğŸ“¦</span>
                <div class="flex-1">
                    <p class="font-semibold text-sm">Added to cart (Pickup)</p>
                    <p class="text-xs opacity-90">${itemName} Ã— ${quantity} â€¢ ${totalPrice.toLocaleString()}ì›</p>
                </div>
            </div>
        `;

        toastContainer.appendChild(toast);

        setTimeout(() => {
            toast.classList.remove('toast-enter');
            toast.classList.add('toast-exit');
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }

    function showDineInToast(itemName, quantity, totalPrice) {
        const toastContainer = document.getElementById('toastContainer');
        const toast = document.createElement('div');
        toast.className = 'toast-enter bg-green-500 text-white px-5 py-3 rounded-2xl shadow-lg pointer-events-auto max-w-sm';

        toast.innerHTML = `
            <div class="flex items-center gap-2">
                <span class="text-lg">ğŸ½ï¸</span>
                <div class="flex-1">
                    <p class="font-semibold text-sm">Added to cart (Dine-in)</p>
                    <p class="text-xs opacity-90">${itemName} Ã— ${quantity} â€¢ ${totalPrice.toLocaleString()}ì›</p>
                </div>
            </div>
        `;

        toastContainer.appendChild(toast);

        setTimeout(() => {
            toast.classList.remove('toast-enter');
            toast.classList.add('toast-exit');
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }

    function showToast(message) {
        const toastContainer = document.getElementById('toastContainer');
        const toast = document.createElement('div');
        toast.className = 'toast-enter bg-gray-900 text-white px-6 py-3 rounded-full shadow-lg pointer-events-auto';
        toast.textContent = message;

        toastContainer.appendChild(toast);

        setTimeout(() => {
            toast.classList.remove('toast-enter');
            toast.classList.add('toast-exit');
            setTimeout(() => toast.remove(), 300);
        }, 2000);
    }

    // ==================== LIGHTBOX ====================
    function openLightbox() {
        document.getElementById('lightbox').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeLightbox() {
        document.getElementById('lightbox').classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    // ==================== UTILITY FUNCTIONS ====================
    function shareMenu() {
        if (navigator.share) {
            navigator.share({
                title: 'ì•„ë©”ë¦¬ì¹´ë…¸ - ì¹´í˜ ì˜¤ë”ì œë¡œ',
                text: 'ì•„ë©”ë¦¬ì¹´ë…¸ë¥¼ ì£¼ë¬¸í•´ë³´ì„¸ìš”!',
                url: window.location.href
            }).catch(() => {
                fallbackShare();
            });
        } else {
            fallbackShare();
        }
    }

    function fallbackShare() {
        navigator.clipboard.writeText(window.location.href);
        showToast('ğŸ”— ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
    }

    // ==================== INITIALIZATION ====================
    console.log('ğŸ¯ C-05 (Menu Detail) - Order Type: ' + state.orderType);
    console.log('ğŸ“¦ Cart Items:', JSON.parse(sessionStorage.getItem('cart') || '[]'));
</script>

</body>
</html>
